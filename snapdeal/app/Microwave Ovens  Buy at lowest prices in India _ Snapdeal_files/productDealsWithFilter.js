/*
 * jQuery UI 1.8.16
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(D,C){function B(F,E){var G=F.nodeName.toLowerCase();if("area"===G){E=F.parentNode;G=E.name;if(!F.href||!G||E.nodeName.toLowerCase()!=="map"){return false}F=D("img[usemap=#"+G+"]")[0];return !!F&&A(F)}return(/input|select|textarea|button|object/.test(G)?!F.disabled:"a"==G?F.href||E:E)&&A(F)}function A(E){return !D(E).parents().andSelf().filter(function(){return D.curCSS(this,"visibility")==="hidden"||D.expr.filters.hidden(this)}).length}D.ui=D.ui||{};if(!D.ui.version){D.extend(D.ui,{version:"1.8.16",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});D.fn.extend({propAttr:D.fn.prop||D.fn.attr,_focus:D.fn.focus,focus:function(F,E){return typeof F==="number"?this.each(function(){var G=this;setTimeout(function(){D(G).focus();E&&E.call(G)},F)}):this._focus.apply(this,arguments)},scrollParent:function(){var E;E=D.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(D.curCSS(this,"position",1))&&/(auto|scroll)/.test(D.curCSS(this,"overflow",1)+D.curCSS(this,"overflow-y",1)+D.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(D.curCSS(this,"overflow",1)+D.curCSS(this,"overflow-y",1)+D.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!E.length?D(document):E},zIndex:function(F){if(F!==C){return this.css("zIndex",F)}if(this.length){F=D(this[0]);for(var E;F.length&&F[0]!==document;){E=F.css("position");if(E==="absolute"||E==="relative"||E==="fixed"){E=parseInt(F.css("zIndex"),10);if(!isNaN(E)&&E!==0){return E}}F=F.parent()}}return 0},disableSelection:function(){return this.bind((D.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(E){E.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});D.each(["Width","Height"],function(F,E){function J(M,L,K,N){D.each(I,function(){L-=parseFloat(D.curCSS(M,"padding"+this,true))||0;if(K){L-=parseFloat(D.curCSS(M,"border"+this+"Width",true))||0}if(N){L-=parseFloat(D.curCSS(M,"margin"+this,true))||0}});return L}var I=E==="Width"?["Left","Right"]:["Top","Bottom"],H=E.toLowerCase(),G={innerWidth:D.fn.innerWidth,innerHeight:D.fn.innerHeight,outerWidth:D.fn.outerWidth,outerHeight:D.fn.outerHeight};D.fn["inner"+E]=function(K){if(K===C){return G["inner"+E].call(this)}return this.each(function(){D(this).css(H,J(this,K)+"px")})};D.fn["outer"+E]=function(L,K){if(typeof L!=="number"){return G["outer"+E].call(this,L)}return this.each(function(){D(this).css(H,J(this,L,true,K)+"px")})}});D.extend(D.expr[":"],{data:function(F,E,G){return !!D.data(F,G[3])},focusable:function(E){return B(E,!isNaN(D.attr(E,"tabindex")))},tabbable:function(F){var E=D.attr(F,"tabindex"),G=isNaN(E);return(G||E>=0)&&B(F,!G)}});D(function(){var F=document.body,E=F.appendChild(E=document.createElement("div"));D.extend(E.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});D.support.minHeight=E.offsetHeight===100;D.support.selectstart="onselectstart" in E;F.removeChild(E).style.display="none"});D.extend(D.ui,{plugin:{add:function(F,E,H){F=D.ui[F].prototype;for(var G in H){F.plugins[G]=F.plugins[G]||[];F.plugins[G].push([E,H[G]])}},call:function(F,E,H){if((E=F.plugins[E])&&F.element[0].parentNode){for(var G=0;G<E.length;G++){F.options[E[G][0]]&&E[G][1].apply(F.element,H)}}}},contains:function(F,E){return document.compareDocumentPosition?F.compareDocumentPosition(E)&16:F!==E&&F.contains(E)},hasScroll:function(F,E){if(D(F).css("overflow")==="hidden"){return false}E=E&&E==="left"?"scrollLeft":"scrollTop";var G=false;if(F[E]>0){return true}F[E]=1;G=F[E]>0;F[E]=0;return G},isOverAxis:function(F,E,G){return F>E&&F<E+G},isOver:function(F,E,J,I,H,G){return D.ui.isOverAxis(F,J,H)&&D.ui.isOverAxis(E,I,G)}})}})(jQuery);
/*
 * jQuery UI Widget 1.8.16
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(A,D){if(A.cleanData){var C=A.cleanData;A.cleanData=function(E){for(var H=0,G;(G=E[H])!=null;H++){try{A(G).triggerHandler("remove")}catch(F){}}C(E)}}else{var B=A.fn.remove;A.fn.remove=function(E,F){return this.each(function(){if(!F){if(!E||A.filter(E,[this]).length){A("*",this).add([this]).each(function(){try{A(this).triggerHandler("remove")}catch(G){}})}}return B.call(A(this),E,F)})}}A.widget=function(E,I,H){var G=E.split(".")[0],F;E=E.split(".")[1];F=G+"-"+E;if(!H){H=I;I=A.Widget}A.expr[":"][F]=function(J){return !!A.data(J,E)};A[G]=A[G]||{};A[G][E]=function(J,K){arguments.length&&this._createWidget(J,K)};I=new I;I.options=A.extend(true,{},I.options);A[G][E].prototype=A.extend(true,I,{namespace:G,widgetName:E,widgetEventPrefix:A[G][E].prototype.widgetEventPrefix||E,widgetBaseClass:F},H);A.widget.bridge(E,A[G][E])};A.widget.bridge=function(E,F){A.fn[E]=function(J){var I=typeof J==="string",H=Array.prototype.slice.call(arguments,1),G=this;J=!I&&H.length?A.extend.apply(null,[true,J].concat(H)):J;if(I&&J.charAt(0)==="_"){return G}I?this.each(function(){var L=A.data(this,E),K=L&&A.isFunction(L[J])?L[J].apply(L,H):L;if(K!==L&&K!==D){G=K;return false}}):this.each(function(){var K=A.data(this,E);K?K.option(J||{})._init():A.data(this,E,new F(J,this))});return G}};A.Widget=function(E,F){arguments.length&&this._createWidget(E,F)};A.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(E,G){A.data(G,this.widgetName,this);this.element=A(G);this.options=A.extend(true,{},this.options,this._getCreateOptions(),E);var F=this;this.element.bind("remove."+this.widgetName,function(){F.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return A.metadata&&A.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(E,G){var F=E;if(arguments.length===0){return A.extend({},this.options)}if(typeof E==="string"){if(G===D){return this.options[E]}F={};F[E]=G}this._setOptions(F);return this},_setOptions:function(E){var F=this;A.each(E,function(H,G){F._setOption(H,G)});return this},_setOption:function(E,F){this.options[E]=F;if(E==="disabled"){this.widget()[F?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",F)}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(E,I,H){var G=this.options[E];I=A.Event(I);I.type=(E===this.widgetEventPrefix?E:this.widgetEventPrefix+E).toLowerCase();H=H||{};if(I.originalEvent){E=A.event.props.length;for(var F;E;){F=A.event.props[--E];I[F]=I.originalEvent[F]}}this.element.trigger(I,H);return !(A.isFunction(G)&&G.call(this.element[0],I,H)===false||I.isDefaultPrevented())}}})(jQuery);
/*
 * jQuery UI Mouse 1.8.16
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(A){var B=false;A(document).mouseup(function(){B=false});A.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var C=this;this.element.bind("mousedown."+this.widgetName,function(D){return C._mouseDown(D)}).bind("click."+this.widgetName,function(D){if(true===A.data(D.target,C.widgetName+".preventClickEvent")){A.removeData(D.target,C.widgetName+".preventClickEvent");D.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(C){if(!B){this._mouseStarted&&this._mouseUp(C);this._mouseDownEvent=C;var F=this,E=C.which==1,D=typeof this.options.cancel=="string"&&C.target.nodeName?A(C.target).closest(this.options.cancel).length:false;if(!E||D||!this._mouseCapture(C)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){F.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(C)&&this._mouseDelayMet(C)){this._mouseStarted=this._mouseStart(C)!==false;if(!this._mouseStarted){C.preventDefault();return true}}true===A.data(C.target,this.widgetName+".preventClickEvent")&&A.removeData(C.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(G){return F._mouseMove(G)};this._mouseUpDelegate=function(G){return F._mouseUp(G)};A(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);C.preventDefault();return B=true}},_mouseMove:function(C){if(A.browser.msie&&!(document.documentMode>=9)&&!C.button){return this._mouseUp(C)}if(this._mouseStarted){this._mouseDrag(C);return C.preventDefault()}if(this._mouseDistanceMet(C)&&this._mouseDelayMet(C)){(this._mouseStarted=this._mouseStart(this._mouseDownEvent,C)!==false)?this._mouseDrag(C):this._mouseUp(C)}return !this._mouseStarted},_mouseUp:function(C){A(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;C.target==this._mouseDownEvent.target&&A.data(C.target,this.widgetName+".preventClickEvent",true);this._mouseStop(C)}return false},_mouseDistanceMet:function(C){return Math.max(Math.abs(this._mouseDownEvent.pageX-C.pageX),Math.abs(this._mouseDownEvent.pageY-C.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);(function(A){A.widget("ui.slider",A.ui.mouse,{widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null},_create:function(){var C=this,B=this.options,G=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),E=B.values&&B.values.length||1,F=[];this._mouseSliding=this._keySliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(B.disabled?" ui-slider-disabled ui-disabled":""));this.range=A([]);if(B.range){if(B.range===true){if(!B.values){B.values=[this._valueMin(),this._valueMin()]}if(B.values.length&&B.values.length!==2){B.values=[B.values[0],B.values[0]]}}this.range=A("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(B.range==="min"||B.range==="max"?" ui-slider-range-"+B.range:""))}for(var D=G.length;D<E;D+=1){F.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>")}this.handles=G.add(A(F.join("")).appendTo(C.element));this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(H){H.preventDefault()}).hover(function(){B.disabled||A(this).addClass("ui-state-hover")},function(){A(this).removeClass("ui-state-hover")}).focus(function(){if(B.disabled){A(this).blur()}else{A(".ui-slider .ui-state-focus").removeClass("ui-state-focus");A(this).addClass("ui-state-focus")}}).blur(function(){A(this).removeClass("ui-state-focus")});this.handles.each(function(H){A(this).data("index.ui-slider-handle",H)});this.handles.keydown(function(M){var J=true,I=A(this).data("index.ui-slider-handle"),K,L,H;if(!C.options.disabled){switch(M.keyCode){case A.ui.keyCode.HOME:case A.ui.keyCode.END:case A.ui.keyCode.PAGE_UP:case A.ui.keyCode.PAGE_DOWN:case A.ui.keyCode.UP:case A.ui.keyCode.RIGHT:case A.ui.keyCode.DOWN:case A.ui.keyCode.LEFT:J=false;if(!C._keySliding){C._keySliding=true;A(this).addClass("ui-state-active");K=C._start(M,I);if(K===false){return }}break}H=C.options.step;K=C.options.values&&C.options.values.length?(L=C.values(I)):(L=C.value());switch(M.keyCode){case A.ui.keyCode.HOME:L=C._valueMin();break;case A.ui.keyCode.END:L=C._valueMax();break;case A.ui.keyCode.PAGE_UP:L=C._trimAlignValue(K+(C._valueMax()-C._valueMin())/5);break;case A.ui.keyCode.PAGE_DOWN:L=C._trimAlignValue(K-(C._valueMax()-C._valueMin())/5);break;case A.ui.keyCode.UP:case A.ui.keyCode.RIGHT:if(K===C._valueMax()){return }L=C._trimAlignValue(K+H);break;case A.ui.keyCode.DOWN:case A.ui.keyCode.LEFT:if(K===C._valueMin()){return }L=C._trimAlignValue(K-H);break}C._slide(M,I,L);return J}}).keyup(function(I){var H=A(this).data("index.ui-slider-handle");if(C._keySliding){C._keySliding=false;C._stop(I,H);C._change(I,H);A(this).removeClass("ui-state-active")}});this._refreshValue();this._animateOff=false},destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider");this._mouseDestroy();return this},_mouseCapture:function(C){var B=this.options,H,F,G,D,E;if(B.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();H=this._normValueFromMouse({x:C.pageX,y:C.pageY});F=this._valueMax()-this._valueMin()+1;D=this;this.handles.each(function(J){var I=Math.abs(H-D.values(J));if(F>I){F=I;G=A(this);E=J}});if(B.range===true&&this.values(1)===B.min){E+=1;G=A(this.handles[E])}if(this._start(C,E)===false){return false}this._mouseSliding=true;D._handleIndex=E;G.addClass("ui-state-active").focus();B=G.offset();this._clickOffset=!A(C.target).parents().andSelf().is(".ui-slider-handle")?{left:0,top:0}:{left:C.pageX-B.left-G.width()/2,top:C.pageY-B.top-G.height()/2-(parseInt(G.css("borderTopWidth"),10)||0)-(parseInt(G.css("borderBottomWidth"),10)||0)+(parseInt(G.css("marginTop"),10)||0)};this.handles.hasClass("ui-state-hover")||this._slide(C,E,H);return this._animateOff=true},_mouseStart:function(){return true},_mouseDrag:function(C){var B=this._normValueFromMouse({x:C.pageX,y:C.pageY});this._slide(C,this._handleIndex,B);return false},_mouseStop:function(B){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(B,this._handleIndex);this._change(B,this._handleIndex);this._clickOffset=this._handleIndex=null;return this._animateOff=false},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(C){var B;if(this.orientation==="horizontal"){B=this.elementSize.width;C=C.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{B=this.elementSize.height;C=C.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}B=C/B;if(B>1){B=1}if(B<0){B=0}if(this.orientation==="vertical"){B=1-B}C=this._valueMax()-this._valueMin();return this._trimAlignValue(this._valueMin()+B*C)},_start:function(C,B){var D={handle:this.handles[B],value:this.value()};if(this.options.values&&this.options.values.length){D.value=this.values(B);D.values=this.values()}return this._trigger("start",C,D)},_slide:function(C,B,E){var D;if(this.options.values&&this.options.values.length){D=this.values(B?0:1);if(this.options.values.length===2&&this.options.range===true&&(B===0&&E>D||B===1&&E<D)){E=D}if(E!==this.values(B)){D=this.values();D[B]=E;C=this._trigger("slide",C,{handle:this.handles[B],value:E,values:D});this.values(B?0:1);C!==false&&this.values(B,E,true)}}else{if(E!==this.value()){C=this._trigger("slide",C,{handle:this.handles[B],value:E});C!==false&&this.value(E)}}},_stop:function(C,B){var D={handle:this.handles[B],value:this.value()};if(this.options.values&&this.options.values.length){D.value=this.values(B);D.values=this.values()}this._trigger("stop",C,D)},_change:function(C,B){if(!this._keySliding&&!this._mouseSliding){var D={handle:this.handles[B],value:this.value()};if(this.options.values&&this.options.values.length){D.value=this.values(B);D.values=this.values()}this._trigger("change",C,D)}},value:function(B){if(arguments.length){this.options.value=this._trimAlignValue(B);this._refreshValue();this._change(null,0)}else{return this._value()}},values:function(C,B){var F,D,E;if(arguments.length>1){this.options.values[C]=this._trimAlignValue(B);this._refreshValue();this._change(null,C)}else{if(arguments.length){if(A.isArray(arguments[0])){F=this.options.values;D=arguments[0];for(E=0;E<F.length;E+=1){F[E]=this._trimAlignValue(D[E]);this._change(null,E)}this._refreshValue()}else{return this.options.values&&this.options.values.length?this._values(C):this.value()}}else{return this._values()}}},_setOption:function(C,B){var E,D=0;if(A.isArray(this.options.values)){D=this.options.values.length}A.Widget.prototype._setOption.apply(this,arguments);switch(C){case"disabled":if(B){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.propAttr("disabled",true);this.element.addClass("ui-disabled")}else{this.handles.propAttr("disabled",false);this.element.removeClass("ui-disabled")}break;case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(E=0;E<D;E+=1){this._change(null,E)}this._animateOff=false;break}},_value:function(){var B=this.options.value;return B=this._trimAlignValue(B)},_values:function(C){var B,D;if(arguments.length){B=this.options.values[C];return B=this._trimAlignValue(B)}else{B=this.options.values.slice();for(D=0;D<B.length;D+=1){B[D]=this._trimAlignValue(B[D])}return B}},_trimAlignValue:function(C){if(C<=this._valueMin()){return this._valueMin()}if(C>=this._valueMax()){return this._valueMax()}var B=this.options.step>0?this.options.step:1,D=(C-this._valueMin())%B;C=C-D;if(Math.abs(D)*2>=B){C+=D>0?B:-B}return parseFloat(C.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var K=this.options.range,J=this.options,I=this,G=!this._animateOff?J.animate:false,H,D={},F,C,B,E;if(this.options.values&&this.options.values.length){this.handles.each(function(L){H=(I.values(L)-I._valueMin())/(I._valueMax()-I._valueMin())*100;D[I.orientation==="horizontal"?"left":"bottom"]=H+"%";A(this).stop(1,1)[G?"animate":"css"](D,J.animate);if(I.options.range===true){if(I.orientation==="horizontal"){if(L===0){I.range.stop(1,1)[G?"animate":"css"]({left:H+"%"},J.animate)}if(L===1){I.range[G?"animate":"css"]({width:H-F+"%"},{queue:false,duration:J.animate})}}else{if(L===0){I.range.stop(1,1)[G?"animate":"css"]({bottom:H+"%"},J.animate)}if(L===1){I.range[G?"animate":"css"]({height:H-F+"%"},{queue:false,duration:J.animate})}}}F=H})}else{C=this.value();B=this._valueMin();E=this._valueMax();H=E!==B?(C-B)/(E-B)*100:0;D[I.orientation==="horizontal"?"left":"bottom"]=H+"%";this.handle.stop(1,1)[G?"animate":"css"](D,J.animate);if(K==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[G?"animate":"css"]({width:H+"%"},J.animate)}if(K==="max"&&this.orientation==="horizontal"){this.range[G?"animate":"css"]({width:100-H+"%"},{queue:false,duration:J.animate})}if(K==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[G?"animate":"css"]({height:H+"%"},J.animate)}if(K==="max"&&this.orientation==="vertical"){this.range[G?"animate":"css"]({height:100-H+"%"},{queue:false,duration:J.animate})}}}});A.extend(A.ui.slider,{version:"1.8.16"})})(jQuery);
var noSpin=false;$.fn.stars=function(){return $(this).each(function(){$(this).html($("<span/>").width(Math.max(0,(Math.min(5,parseFloat($(this).html()))))*16))})};$("span.stars").stars();var selectedView=$("#selectedViewType").html();var compareFlag=$("#compareFlag").val();var slideFilterChng=true;var slideFilterManualChng=false;var emiThreshold=$("#emiThreshold").val();var qry=($("#lastKeyword").val()==undefined)?"":$("#lastKeyword").val();var targetObj="";var previousSortType=$("#seeMoreProducts").attr("sortType").split(",")[0];if(qry=="eg : Pizza, Samsung Galaxy, Corbett resort"){qry=""}function redirectToPDP(B,A){if(A.indexOf("?")==-1){newUrl=A+"?attrVal="+B.value}else{newUrl=A+"&attrVal="+B.value}window.location.href=newUrl}var onFilter=false;var fromJSP=false;var showAd=false;function displayProducts(E,H,G){var B=E;if(H){if($("html").hasClass("ie8")){$("#products-main4").append(B)}else{$("<div class='newProducts-div'></div>").css({height:"150px",width:"105%",background:"#eee","margin-left":"-20px"}).appendTo("#products-main4").animate({height:0},1000);$("#products-main4").append(B)}}else{$("#products-main4").html(B)}ratingStars();if(hoverEnabledStateFlag=="true"&&E!=undefined){if(gridForFashionFlag=="true"){generateSlider()}if(gridForElectronicsFlag=="true"){generateHeight()}}if($(".filtrs-top-selected").html()!=null){$("#clearSelectedFilters").show()}else{$("#clearSelectedFilters").hide()}var D=$(".numberFound").html();if(D!="0"){$("#no-of-results-filter").html(D);$("#resultsOnPage").val(D)}if($("#seeMoreProducts").attr("categoryid")!=0&&D=="0"&&$("#seeMoreProducts").attr("start")=="0"){$("#filter-no-results-message").show();$("#productResultsFound").hide();$("#no-of-results-filter").html("0");$("#resultsOnPage").val("0")}else{$("#filter-no-results-message").hide();$("#productResultsFound").show()}$(".ajax-loader-icon").hide();var C=$("#seeMoreProducts").attr("start");if((D-C)<=gridProdLoad){$("#seemore").hide();$("#seeMoreState").val("hidden")}else{$("#seemore").show();$("#seeMoreState").val("visible");var G=$("#seeMoreProducts").attr("start");var A=$("#seeMoreProducts").attr("end");$("#seeMoreProducts").attr("start",parseInt(G)+parseInt(A));$("#startProductState").val(parseInt(G)+parseInt(A))}if(onFilter){$("#productResultsFound").hide()}try{Snapdeal.breadcrumb.addHashToAllInternalLinks()}catch(F){}}function decodeEntities(B){var C,A=document.createElement("p");A.innerHTML=B;C=A.textContent||A.innerText;A=null;return C}function getProducts(F,C,G,M,B,H,I,L,D){$("#products-main4, #products-main4 img").css("filter","alpha(opacity=100)").css("opacity",1);var K=F+"_"+C+"_"+G+"_"+M+"_"+B+"_"+H+"_"+I+"_"+L+"_"+D;var E=$("#prodCatId").val();var N=false;if(E!=""){F=E}if(F==""||F==null||(F==0&&window.categoryId>0)){F=window.categoryId}if(F==""||F==null){F=0}if(I==null){I="Grid"}if(C==0){rowInd=0}if(!$("#filter-no-results-message").is(":visible")){var A="search";if(D){A="sws";clickSrcValue="searchOnSubCat"}if(hoverEnabledStateFlag=="true"){if(I=="Grid"){N=true;I="List"}else{N=false}}qry=(decodeEntities(qry)==undefined)?"":decodeEntities(qry);var J=Snapdeal.getAjaxResourcesPath("/json/product/get/"+A+"/"+F+"/"+C+"/"+G+"?q="+B+"&sort="+H+"&keyword="+qry+"&clickSrc="+clickSrcValue+"&viewType="+I+"&lang="+Snapdeal.Cookie.get("lang")+"&snr="+(L?true:false));J=J.replace(/\|&/g,"&");$.ajax({url:J,type:"GET",dataType:"html",beforeSend:function(){if(noSpin==false){$(".ajax-loader-outer").show();$("#products-main4, #products-main4 img").css("filter","alpha(opacity=50)").css("opacity",0.5)}},success:function(Q){displayProducts(Q,M,C);if($(".mC").length){filterSearchData=$(".mC").html();if(filterSearchData!=""){filterSearchData=JSON.parse(filterSearchData)}}$(".ajax-loader-outer").hide();filterFreeze();$("#products-main4, #products-main4 img").css("filter","alpha(opacity=100)").css("opacity",1);noSpin=false;if($(".filtrs-top-selected").is(":visible")){$(".product_list_view_cont").eq(0).css("border-top","none")}if(!mkt&&L){loadActiveCatagories(filterSearchData)}$("body").trigger("refresh");if(D){var O=false;if(!(typeof Q.personaUsed==="undefined")){O=Q.personaUsed}var P="/getomniturescript/sws?isSWS=true&results="+Q.numberFound+"&keyword="+qry+"&catId="+$("#seeMoreProducts").attr("categoryid")+"&personaUsed="+O;$.ajax({url:P,type:"GET",dataType:"html",success:function(R){$("body").append(R)}})}},error:function(){$(".ajax-loader-outer").hide();$(".ajax-loader-icon").hide();noSpin=false}})}else{$(".ajax-loader-icon").hide()}}function prebookHelpClick(A){$("#prebookInfo-"+A).show()}function prebookHelpLeave(A){$("#prebookInfo-"+A).delay(100).hide(0)}function getRetargetingScript(A,C){var B="/getretargetingscript?eventType="+A+"&categoryId="+C;$.ajax({url:B,type:"GET",dataType:"html",success:function(D){$("body").append(D)},error:function(){$(".ajax-loader-icon").hide()}})}function delSearchKeyword(A){fromClear=true;if($("#searchWithinSearch").val()!=""){$('.sort-value[sortType="rlvncy"]').remove();$("#seeMoreProducts").attr("sortType",previousSortType);$(".sort-value").removeClass("popbox");$(".sort-value[sortType="+previousSortType+"]").addClass("popbox")}qry="";$(A).parent().remove();$("#lastKeyword, #searchWithinSearch").val("");$("#keyword").val("").blur();filter.changeFilters(true,false)}function prodGridImgSizeChng(){var A="";if(prodGridImgSizeCust!="166x194"){$(".gridViewImage").each(function(){if($(this).attr("lazySrc")){var B=$(this).attr("lazySrc").replace("166x194",prodGridImgSizeCust);$(this).attr("lazySrc",B).attr("src","//:0")}var B=""});if(window.isLoaded){lazySrc()}else{$(window).load(function(){lazySrc()})}}}var gDoNotReloadOnHashChange=false;var gHashState="";$(document).ready(function(){$(".categoryRevamp").trigger("listingPageReady");window.cachePageData=new Snapdeal.CachePageData();window.cachePageData.init();if(sortTypeVal=="plth"||sortTypeVal=="phtl"){$('.sort-value[sorttype="none"]').addClass("popbox")}else{$('.sort-value[sorttype="'+sortTypeVal+'"]').addClass("popbox")}if($("#zoneId").val()!=0){var B=$("#zoneselectautocomplete").attr("pageUrl");if(B!==undefined&&B.length>0){Snapdeal.Cookie.set("zonePageUrl",B,10000)}$(".skipit").attr("href",window.location.href)}$("#partialSearchKey").text('"'+$("#keyword").val().replace(/\s+/g," ").split(" ").toString().replace(/\,/g,'", "')+'"');$("#cityul").click(function(){if($("#zoneId").val()!=0){var D=$("#zoneselectautocomplete").attr("pageUrl");if(D!==undefined&&D.length>0){Snapdeal.Cookie.set("zonePageUrl",D,10000)}$(".skipit").attr("href",window.location.href)}});$("#skipmail").click(function(){setCookie("s","1",7,"/",".snapdeal.com")});if(selectedView=="Grid"){prodGridImgSizeChng()}$(".sort-value").click(function(){var D=$(this);changeSortType(D);changeFilters(false,false);updateOmniture("changedFilter","FID","Sort Filter: "+getSortingLabel($(this).attr("sorttype")))});var C=$("#categoryDropdown");var A=C.children("li").get();A.sort(function(E,D){var F=parseInt($(E).attr("count"));var G=parseInt($(D).attr("count"));return(G<F)?-1:(G>F)?1:0});$.each(A,function(D,E){C.append(E)});window.sdstaticPath=Snapdeal.getResourcePath("");window.zonePageUrl=$("#zone-page-url").html();$(".view_type_wrapper > span").click(function(){if(!$(this).hasClass("inactive_view")){return false}$(".view_type_wrapper > span").addClass("inactive_view");$(this).removeClass("inactive_view");$("#filter-no-results-message").hide();var D=$("#seeMoreProducts").attr("categoryid");selectedView=$(this).attr("viewtype");Snapdeal.Cookie.set("vT",D+"|"+selectedView,10000);$("#selectedViewType").html(selectedView);if(selectedView=="List"){$("#seeMoreProducts").attr("start",0).attr("end",5);getProducts($("#seeMoreProducts").attr("categoryid"),0,5,false,$("#seeMoreProducts").attr("qparam"),$("#seeMoreProducts").attr("sortType"),selectedView)}else{$("#seeMoreProducts").attr("start",0).attr("end",gridProdLoad);getProducts($("#seeMoreProducts").attr("categoryid"),0,gridProdLoad,false,$("#seeMoreProducts").attr("qparam"),$("#seeMoreProducts").attr("sortType"),selectedView)}launchOmnScript()});$("#searchWithinSearch").keypress(function(E){if(E.which==13){if($('.sort-value[sortType="rlvncy"]').length==0){$(".sort-value").removeClass("popbox");var D='<div class="sort-value popbox" sortType="rlvncy"><label class="lang sort-by-relevance-lang">RELEVANCE</label></div>';$(D).insertAfter(".sortbox");$("#seeMoreProducts").attr("sortType","rlvncy")}qry=$(this).val().replace(/[`~!@#$%^&*()_|+\-=?;:",.<>\{\}\[\]\\\/]/gi,"");filter.changeFilters(true,true);return false}});$("#swsIco").click(function(E){if($("#searchWithinSearch").val()!=""){if($('.sort-value[sortType="rlvncy"]').length==0){$(".sort-value").removeClass("popbox");var D='<div class="sort-value popbox" sortType="rlvncy"><label class="lang sort-by-relevance-lang">RELEVANCE</label></div>';$(D).insertAfter(".sortbox");$("#seeMoreProducts").attr("sortType","rlvncy")}qry=$("#searchWithinSearch").val().replace(/[`~!@#$%^&*()_|+\-=?;:",.<>\{\}\[\]\\\/]/gi,"");filter.changeFilters(true,true);return false}})});function onBuyClick(A){var B=A;if($("#listBuy-"+B).attr("href").indexOf("catalog=undefined")!=-1){$("#attribute-error-message-"+B).show();return false}return true}$("#seeMoreProducts").click(function(){noSpin=true;$("#seemore").hide();$("#seeMoreState").val("hidden");$(".ajax-loader-icon").show();getProducts($(this).attr("categoryid"),$(this).attr("start"),gridProdLoad,true,$(this).attr("qparam"),$(this).attr("sortType"),selectedView);window.setTimeout(filterFreeze,3000)});$(window).scroll(function(){if($("#seemore").is(":visible")){targetObj=$(".product_grid_row");limitVal=3;if(targetObj.length>2&&$(window).scrollTop()>=targetObj.eq(targetObj.length-limitVal).offset().top){noSpin=true;$("#seemore").hide();$("#seeMoreState").val("hidden");$(".ajax-loader-icon").show();getProducts($("#seeMoreProducts").attr("categoryid"),$("#seeMoreProducts").attr("start"),gridProdLoad,true,$("#seeMoreProducts").attr("qparam"),$("#seeMoreProducts").attr("sortType"),selectedView)}}});function changeSortType(A){if(A.attr("sortType")=="none"){A.attr("sortType","phtl")}$(".sort-value").removeClass("popbox");A.addClass("popbox");if(A.attr("sortType")=="plth"||A.attr("sortType")=="phtl"){if(A.attr("sortType")=="plth"){A.find("span.sortArrow").addClass("descArrw").removeClass("ascArrw");A.attr("sortType","phtl")}else{A.find("span.sortArrow").addClass("ascArrw").removeClass("descArrw");A.attr("sortType","plth")}}$("#seeMoreProducts").attr("sortType",A.attr("sortType"))}function productInViewRange(C,A){var B=" Showing "+C+" of "+A;$("#productViewRange").html(B)}function launchOmnScript(){var A={};var B=$("#seeMoreProducts").attr("categoryId");if(B==""||B==null||(B==0&&window.categoryId>0)){B=window.categoryId}A.viewType=$("#selectedViewType").html();A.viewTypeStatus=($("#selectedViewType").html()==$("#defaultViewType").html())?"default":"changed";A.categoryId=B;A.categoryUrl=categoryUrl;var C=$("#isFromSearch").html();if(C=="true"){A.clcksrc=clickSrcValue;A.resultsOnPage=$("#resultsOnPage").val();fireOmnitureScript(A,"searchResults","/products/getomniturescript/listgridview")}else{fireOmnitureScript(A,"listGridView","/products/getomniturescript/listgridview")}return }function fireOmnitureScript(C,B,A){C.name=B;Snapdeal.omni.fire(B,C)}Snapdeal.CachePageData=function(){var A=this;this.init=function(){if($("#pageReloaded").val()=="true"&&(window.location.hash=="")){A.reloadPageFromCache()}else{if($("#catName").val()!=""){var D=window.dropdownSelected;if(D=="true"){var E=$("#catName").val();if(E.length>10){pName=E.substring(0,9)+"..."}else{pName=E}}if(selectedView=="List"){$("#seeMoreProducts").attr({categoryid:$("#catId").val(),start:5});$("#startProductState").val(5)}else{$("#seeMoreProducts").attr({categoryid:$("#catId").val(),start:gridProdLoad});$("#startProductState").val(gridProdLoad)}}$("#pageReloaded").val("true");if(selectedView=="List"){var B=$(".product_list_view_cont").length;var C=5}else{var B=$(".product_grid_cont").length;var C=gridProdLoad}if(B<C){$("#seemore").hide();$("#seeMoreState").val("hidden")}else{$("#seemore").show();$("#seeMoreState").val("visible")}}$(".category-box").hide();$(".products_wrapper").show()};this.reloadPageFromCache=function(){window.sdstaticPath=Snapdeal.getResourcePath("");window.zonePageUrl=$("#zone-page-url").html();var H=$("#seeMoreState").val();if(H=="visible"){$("#seemore").show()}else{$("#seemore").hide()}var E=$("#startProductState").val();$("#seeMoreProducts").attr("start",E);$("#seeMoreProducts").attr("categoryid",$("#catId").val());var G={};var D=$("#selectedViewType").html();var C=$("#catId").val();var B=Snapdeal.Cookie.get("vT");if(B!=null){var F=B.split("|");if(C==F[0]){D=F[1];selectedView=D;$("#selectedViewType").html(D);if(D=="Grid"){$(".grid").parent().removeClass();$(".grid").parent().addClass("lfloat view_type");$(".list").parent().removeClass();$(".list").parent().addClass("lfloat view_type inactive_view");$("#seeMoreProducts").attr("end",gridProdLoad)}if(D=="List"){$(".grid").parent().removeClass();$(".grid").parent().addClass("lfloat view_type inactive_view");$(".list").parent().removeClass();$(".list").parent().addClass("lfloat view_type");$("#seeMoreProducts").attr("end",5)}}}}};$(window).load(function(){if(Snapdeal.componentSwitches.promoClosed=="false"&&$("#showPromoWindow").size()>0){var A=Snapdeal.getAjaxResourcesPath("/json/get/promoWindowCategory?url="+encodeURIComponent(categoryUrl));$.ajax({url:A,type:"GET",dataType:"json",success:function(B){if(B!=undefined&&B!=null){showPromoWindow(B)}else{hidePromoWindow()}}})}logCategoryAfterLastSearch()});function logCategoryAfterLastSearch(){var A=$("#categoryId").val()||$("#catId").val();if(window.sessionStorage.getItem("logLastSearch")!=null&&window.sessionStorage.getItem("logLastSearch")!=""){$.ajax({url:Snapdeal.getAjaxResourcesPath("/logMinarva/category-"+A),type:"GET",success:function(B){}})}}function showPromoWindow(A){$("#showPromotext").html(A.displayText);$("#showPromoCond").html(A.conditionsText);$("#showPromoWindow").show()}function hidePromoWindow(){$("#showPromotext").html("");$("#showPromoCond").html("");$("#showPromoWindow").hide()}$("#showPromoConditionText,#showPromoTooltip").hover(function(){$("#showPromoTooltip").show()},function(){$("#showPromoTooltip").hide()});$("#fineprints-close").click(function(){$(".common-fine-prints-box").hide()});function ratingStarsBelowTitle(B){var A="/getReadReviewScript?pogId="+B;$.ajax({url:A,type:"GET",dataType:"html",success:function(C){$("body").append(C)},error:function(){$(".ajax-loader-icon").hide()}})}var isZeroResults=$("#noResults").val();var keyword=$("#errorKeyword").text();if(isZeroResults=="true"&&keyword!=null){partnerResults(keyword,0,5)}var spellChecker=(function(){var B={};var A=$(".searchResult-text1");var C=A.attr("data-spellCheckUsed");B.getLink=function(D){var E=window.location.href;E=E.replace(/keyword=([^&]*)/,"keyword="+D);E=E.replace(/santizedKeyword=([^&]*)/,"santizedKeyword="+D);E=E.replace(/lastKeyword=([^&]*)/,"lastKeyword="+D);E+="&spellCheckEnabled=false&MID=Spell_Check_Used";return E};B.isSpellChecKUsed=function(){if(C==="true"){return true}else{return false}};return B})();$(".pageWrapper").on("click",".product_grid_box",function(){if($(this).find(".productTagImage").size()>=1){Snapdeal.Cookie.set("track","TagID=ProductDealsPage_"+$(this).find(".productTagImage").attr("tagName"))}});
var filter={initEvents:initEvents,initSlider:initSlider,changeFilters:changeFilters,loadFilters:loadFilters,loadActiveFilters:loadActiveFilters,loadInActiveFilters:loadInActiveFilters,activeFiltersValues:activeFiltersValues,filterNameArrFnc:filterNameArrFnc,onFilterValueClick:onFilterValueClick,onClearAll:onClearAll,onClear:onClear};var filtersOuterOriginal=$(".filters-outer");var filterjson=[];var filterQueryParm="";var searchFilterMap={};var gDoNotReloadOnHashChange=false;var gHashState="";var isPriceFilterAppliedOnPageLoad=false;function searchFilterData(A){var B={};B.displayType=A.displayType;B.name=A.name;B.visible=A.visible;B.searchable=A.searchable;B.expandable=A.expandable;searchFilterMap[A.filterName]=B}$(function(){filterjson=$.parseJSON($("#filterJson").val());if(filterjson!=null&&window.pageName2=="search"){for(var B=0;B<filterjson.length;B++){searchFilterData(filterjson[B])}}var A=window.location.href;if(A.indexOf("q=")!=-1){detectFilters(A);modifyOnload(A)}else{if(window.isFilterSeoPage){detectFilters(A)}}$(".sort-value").click(function(){sortTypeVal=$(this).attr("sortType")});filter.initEvents();changeClearVisibility();collapse(5)});function changeClearVisibility(){$(".filters-outer:not(.no-display)").each(function(){if($(this).find(".active-filter").length>0){$(this).find('.reset-filter[filterType!="slider"]').removeClass("hidden")}else{$(this).find('.reset-filter[filterType!="slider"]').addClass("hidden")}if(slideFilterManualChng){var A=$(this).find('.reset-filter[filterType="slider"]');if(A.length>0){if(A.attr("min")==$("#price-tag-input-from").val()&&A.attr("max")==$("#price-tag-input-to").val()){A.addClass("hidden")}else{A.removeClass("hidden")}}}})}function collapse(A){$(".filters-outer:not(.no-display)").each(function(D,E){if(D>=A){$(E).find(".icon-collaps").addClass("icon-expand");var C=$(E).find(".icon-collaps").parent().siblings('div[collaps=""]');var B=C.height();if(B>0){C.css("height","0");updateSdScroll(E)}}})}function initEvents(){$(".leftWrapper").on("click",".fliters-list",filter.onFilterValueClick);$(".pageWrapper").on("click",".clear-all-reset",filter.onClearAll);$(".leftWrapper").on("click",".reset-filter",filter.onClear);$(".sd-slider").each(filter.initSlider);if(window.ratingStars){ratingStars()}}function changeFilters(C,E,B){if($("#products-main4").attr("style")==""){fromJSP=true}var D="";var A="";if(window.pageName2!="search"&&qry!=""){A+="<div class='filtrs-top-selected'>Search: <a onclick='delSearchKeyword(this);'>"+((searchFromKey=="")?qry:searchFromKey)+"<i class='icon-clear sd-icon sd-icon-delete-sign'></i></a></div>"}gDoNotReloadOnHashChange=true;if(C){isPriceFilterAppliedOnPageLoad=false}$("#filter-no-results-message").hide();$(".filter").each(function(){var H=$(this).attr("name");var J=$(this).attr("filterType");var G="";var M="";var K="";if(J=="slider"&&slideFilterManualChng){var L=$(".max-value").eq(1).html();var F=$(".min-value").eq(1).html();if(L!=null){L=L.replace("Rs","").trim()}if(F!=null){F=F.replace("Rs","").trim()}if(!($(".max-value").eq(0).html()==L&&$(".min-value").eq(0).html()==F)){G=$("input[name="+H+"-slider]").val();if(parseInt($("#slider-Price-id").attr("min"))==parseInt(G.split(",")[0])&&parseInt($("#slider-Price-id").attr("max"))==parseInt(G.split(",")[1])){K+=""}else{if($("input[name="+H+"-slider]").hasClass("visible-filter")){K+='Price:&nbsp;<a onclick="delFltrs(this);" delFltrName="'+H+'" delFltrValue="">'+G.split(",")[0]+" - "+G.split(",")[1]+'<i class="icon-clear sd-icon sd-icon-delete-sign"></i></a>'}else{K+=""}}}var I=$(this).parents(".filters-outer").find(".reset-filter");if(I.attr("min")==$("#price-tag-input-from").val()&&I.attr("max")==$("#price-tag-input-to").val()){I.addClass("hidden")}else{I.removeClass("hidden")}}else{$(".active-filter").children("input[name="+H+"]").each(function(O){var N=$(this).parents(".filter").attr("filterDisplayName");if(O==0&&$(this).hasClass("visible-filter")){M=N+":"}G+=$(this).val()+"^";if($(this).hasClass("visible-filter")){M+='&nbsp;<a onclick="delFltrs(this);" delFltrName="'+H+'" delFltrValue="'+$(this).val()+'">'+unescape($(this).val())+'<i class="icon-clear sd-icon sd-icon-delete-sign"></i></a>'}});if(G.length>0){G=G.substring(0,G.lastIndexOf("^"));K+=M;M=""}onFilter=true}if(G!==undefined&&G.length>0){D+=H+":"+G+"|";if(K!=""){A+='<div class="filtrs-top-selected">'+K+"</div>"}}});$(".filters-outer:not(.no-display)").each(function(){if($(this).find(".active-filter").length>0){$(this).find('.reset-filter[filterType!="slider"]').removeClass("hidden")}else{$(this).find('.reset-filter[filterType!="slider"]').addClass("hidden")}});D=encodeURIComponent(unescape(D));if(A.length>0){A+='<div class="rfloat clear-all-reset"><label class="clear-all-lang">Clear All</label><i class="icon-clear sd-icon sd-icon-delete-sign"></i></div>';$("#refined-box-content").html(A).show();$("#clearSelectedFilters").show();$(".clear-all-reset").removeClass("hidden")}else{$("#refined-box-content").html("");$("#clearSelectedFilters").hide();$(".clear-all-reset").addClass("hidden")}$("#seeMoreProducts").attr("start",0).attr("qparam",D);if(typeof gridProdLoad=="undefined"){gridProdLoad=20}else{gridProdLoad=gridProdLoad||20}getProducts($("#seeMoreProducts").attr("categoryid"),0,gridProdLoad,false,$("#seeMoreProducts").attr("qparam"),$("#seeMoreProducts").attr("sortType"),selectedView,C,E);window.setTimeout(filterFreeze,3000);filterQueryParm=D;if(C){if(!gDoNotUpdateFilters){gUpdateFilters=true}loadFilters(true)}if(window.pageName2!="search"&&!B){updateURLHistory($("#seeMoreProducts").attr("sortType"))}}var gDoNotUpdateFilters=false;var gUpdateFilters=false;var fromClear=false;function loadFilters(B){if(window.brandQuery){filterQueryParm=encodeURIComponent(unescape(brandQuery)+unescape(filterQueryParm))}if(window.campaignId){var A=Snapdeal.getStaticPath("/json/campaign/get/filters?campaignId="+campaignId+"&catId="+categoryId+"&q="+filterQueryParm+"&filterNames="+filterNameArrFnc());A=A.replace(/(<([^>]+)>)/ig,"");$.ajax({url:A,type:"GET",dataType:"json",cache:false,success:function(C){loadActiveFilters(C);$(".personalization").trigger("dataLog",{eventType:"FilterCheck",query:filterQueryParm,source:{type:"promotion",identifier:campaignId}})}})}else{var A=Snapdeal.getStaticPath("/json/get/filters?q="+filterQueryParm+"&catId="+categoryId+"&filterNames="+filterNameArrFnc()+"&keyword="+qry+"&partialSearch="+window.partialSearch);A=A.replace(/(<([^>]+)>)/ig,"");$.ajax({url:A,type:"GET",dataType:"json",cache:false,success:function(E){if(window.pageName2==="search"){for(var D=0;D<E.filters.length;D++){var C=searchFilterMap[E.filters[D].filterName];if(typeof (C)!="undefined"){E.filters[D].displayType=C.displayType;E.filters[D].name=C.name;E.filters[D].visible=C.visible;E.filters[D].searchable=C.searchable;E.filters[D].expandable=C.expandable}}}loadActiveFilters(E);if(qry){$(".personalization").trigger("dataLog",{eventType:"FilterCheck",query:filterQueryParm,source:{type:"search",identifier:qry}})}else{$(".personalization").trigger("dataLog",{eventType:"FilterCheck",query:filterQueryParm,source:{type:"categorypage",identifier:categoryId}})}}})}}function loadActiveFilters(D){var C=filtersOuterOriginal.clone();var A=$("#sliderFilter-Price").detach();var B={};reinitializeFilterValues(C);$.each(D.filters,function(E,F){if(F.displayType=="rangeSlider"){slideFilterChng=false;B.filterName=F.filterName;B.min=F.rangeStart;B.max=F.rangeEnd;B.values=[F.rangeStartSelected,F.rangeEndSelected];C.find(".sd-slider .ui-slider-handle").unbind("keydown")}else{activeFiltersValues(F.displayType,F.name,F.filterName,F.displayValues,F.visible,C)}});loadInActiveFilters(C,A);$("#slider-"+B.filterName+"-id").slider(B)}function reinitializeFilterValues(A){var B=A.find(".filter");B.find("input").attr("disabled","disabled").removeAttr("checked");B.find(".fliters-list").addClass("inactivefilters").removeClass("active-filter");B.find(".fliters-list").find("small").html("(0)")}function activeFiltersValues(E,B,C,F,G,A){var D=A.find(".filter[name="+C+"]");$.each(F,function(I,K){var H=D.find('input[filtervalue="'+K.value+'"]');var J=((typeof G=="undefined"||G)?"visible-filter":"invisible-filter");if(K.selected){H.attr("checked","true");H.parent().addClass("active-filter")}H.removeAttr("disabled").removeClass("visible-filter invisible-filter").addClass(J);H.parent().removeClass("inactivefilters");H.parent().find("small").html("("+K.count+")")})}function loadInActiveFilters(A,B){reorderfilters(A,B);$("#filtersOverlay").remove()}function reorderfilters(B,C){var A=B.find(".filter");$.each(A,function(H,J){var F=[],I=[],D=[],L=[];var E=$(J).children(".fliters-list").filter(".active-filter");var G=$(J).children(".fliters-list").filter(":not(.active-filter ,.inactivefilters)");var K=$(J).children(".fliters-list").filter(".inactivefilters");F.push.apply(F,E.toArray?E.toArray():E);I.push.apply(I,G.toArray?G.toArray():G);D.push.apply(D,K.toArray?K.toArray():K);L=F.concat(I).concat(D);if($(this).attr("filterType")!="slider"){$(this).empty().append(L)}else{$(this).html(C)}});B.find(".slimScrollDiv .filter").unwrap().removeAttr("style");B.find(".slimScrollBar, .slimScrollRail").remove();B.find("label").removeClass("checkboxSelected");$(".filterWrapper").children(".overhid").html(B);changeClearVisibility();initSdScroll()}function filterNameArrFnc(){var A=[];$(".filter").each(function(){A.push($(this).attr("name"))});return A}function onFilterValueClick(){if(!$(this).hasClass("inactivefilters")){var D=$(this).find(".filter-value");var C=D.parents(".filter").attr("filterType");if(C=="radio"){$('.filter-value[type="radio"]').parent().removeClass("active-filter");D.parent().find("label").addClass("radioSelected")}else{if(C=="checkbox"){if(D.parent().find("label").hasClass("checkboxSelected")){D.parent().find("label").removeClass("checkboxSelected").addClass("checkboxUnSelected")}else{fromClear=true;D.parent().find("label").removeClass("checkboxUnSelected").addClass("checkboxSelected")}}}D.parent().toggleClass("active-filter");$(".filters").append("<div id='filtersOverlay' class='filtersOverlayDiv' style='height:"+$(".filters").height()+"px'></div>");if(!mkt){$(".browse_by_category").append("<div id='categoriesOverlay' class='categoriesOverlay filtersOverlayDiv' style='height:"+$(".browse_by_category").height()+"px'></div>")}var F=true;if($("html").hasClass("ie8")){$(".pageWrapper .leftWrapper").css("position","static");if(F){F=false;filter.changeFilters(true,false);if(D.parent().hasClass("active-filter")){var A="";var B="";if(D.parents(".filter").attr("isSearchable")=="true"){A="searchable_"}if(D.parents(".filter").attr("isMaxHeight")=="true"){B="increasedHeight_"}var E=D.attr("type")+"_"+A+B+D.attr("name")+" : "+D.attr("value");if(window.pageName2=="search"){updateOmniture("changeFiltersSearch","FID",E)}else{updateOmniture("changedFilter","FID",E)}}}}else{$("body,html").animate({scrollTop:90},500,"swing",function(){$(".pageWrapper .leftWrapper").css("position","static");if(F){F=false;filter.changeFilters(true,false);if(D.parent().hasClass("active-filter")){var G="";var H="";if(D.parents(".filter").attr("isSearchable")=="true"){G="searchable_"}if(D.parents(".filter").attr("isMaxHeight")=="true"){H="increasedHeight_"}var I=D.attr("type")+"_"+G+H+D.attr("name")+" : "+D.attr("value");if(window.pageName2=="search"){updateOmniture("changeFiltersSearch","FID",I)}else{updateOmniture("changedFilter","FID",I)}}}})}return false}}function updateOnReset(){$(".reset-filter").each(function(){var D=$(this).attr("filterType");var C=$(this).attr("filterName");if(D=="slider"){var B=parseInt($(this).attr("min"));var A=parseInt($(this).attr("max"));$("#slider-"+C+"-id").slider({min:B,max:A,values:[B,A]});$(".sd-slider .ui-slider-handle").unbind("keydown")}else{$("input[name="+C+"]:not(.invisible-filter)").attr("checked",false);$("input[name="+C+"]:not(.invisible-filter)").parents(".fliters-list").removeClass("active-filter")}})}function onClearAll(){fromClear=true;updateOnReset();filter.changeFilters(true,false);$(".product_list_view_cont").eq(0).css("border-top","none")}function onClear(){fromClear=true;$("#filter-no-results-message").hide();var E=$(this).attr("filterType");var C=$(this).attr("filterName");if(E=="slider"){var B=parseInt($(this).attr("min"));var A=parseInt($(this).attr("max"));slideFilterChng=true;slideFilterManualChng=false;$("#slider-"+C+"-id").slider({min:B,max:A,values:[B,A]});$(".sd-slider .ui-slider-handle").unbind("keydown");$("#select-min-value-"+C).html("Rs "+B);$("#select-max-value-"+C).html("Rs "+A);$("#price-tag-input-from").val(B);$("#price-tag-input-to").val(A);var D=$(this);if(D.attr("min")==$("#price-tag-input-from").val()&&D.attr("max")==$("#price-tag-input-to").val()){D.addClass("hidden")}else{D.removeClass("hidden")}if(isPriceFilterAppliedOnPageLoad){filter.changeFilters(true,false)}}else{$("input[name="+C+"]").attr("checked",false);$("input[name="+C+"]").parents(".fliters-list").removeClass("active-filter");if($(this).attr("filterType")=="radio"){$('.filter-value[type="radio"]').parents(".fliters-list").removeClass("active-filter")}$(this).parents(".fliters-list").toggleClass("active-filter");filter.changeFilters(true,false)}$(".product_list_view_cont").eq(0).css("border-top","none")}function initSlider(){var C=this;var A=parseInt($(this).attr("min"));var F=parseInt($(this).attr("max"));var G=A;var D=F;var E=parseInt($(this).attr("startSelected"));var B=parseInt($(this).attr("endSelected"));if($.browser.version=="8.0"&&$.browser.msie){if($(this).attr("interval")==""){$(this).attr("interval",0)}if(A==F){F++}if(E==B){B++}}$(this).slider({range:true,min:A,max:F,values:[E,B],step:parseInt($(this).attr("interval")||"0"),slide:function(I,J){var H=$(C).attr("name");$("#select-min-value-"+H).html("Rs "+J.values[0]);$("#select-max-value-"+H).html("Rs "+J.values[1]);if(!gDoNotUpdatePriceFlags){onFilter=true;slideFilterChng=true;slideFilterManualChng=true;gDoNotUpdatePriceFlags=false}else{gDoNotUpdatePriceFlags=false}},change:function(I,J){if(G==J.values[0]&&D==J.values[1]){}else{var H=$(C).attr("name");$("input[name="+H+"-slider]").val(J.values[0]+","+J.values[1]);$("#select-min-value-"+H).html("Rs "+J.values[0]);$("#select-max-value-"+H).html("Rs "+J.values[1]);G=J.values[0];D=J.values[1];$("#price-tag-input-from").val(J.values[0]);$("#price-tag-input-to").val(J.values[1]);if(slideFilterChng){if($("html").hasClass("ie8")){$(".pageWrapper .leftWrapper").css("position","static")}else{$("body,html").animate({scrollTop:90},500,"swing",function(){$(".pageWrapper .leftWrapper").css("position","static")})}filter.changeFilters(true,false);if(window.pageName2=="search"){updateOmniture("changeFiltersSearch","FID","Slider_Price Filter: Rs"+G+" to "+D)}else{updateOmniture("changedFilter","FID","Slider_Price Filter: Rs"+G+" to "+D)}}}}});$(".sd-slider .ui-slider-handle").unbind("keydown")}function updateURLHistory(I){var F=$("#seeMoreProducts").attr("qparam");if(fromJSP){fromJSP=false;if(window.location.href.split("?q").length>1){var E=(mkt)?"&mkt=true":"";var B=window.location.href.split("?q")[0]+"?sort="+sortTypeVal+E+"&q="+F;window.location.href=B}}var G=null;var H=Snapdeal.CommonUtils.URL.getQueryParam("keyword")||"";if(H){G=H}else{if(location.hash!=""&&location.hash!==undefined){if(location.hash.split(":")[0]=="#bcrumbSearch"){G=location.hash.split("|")[0].split(":")[1]}}}var K=queryStringToJSON(fromClear,F,G);var C,M,P="";var A=false;var J=I||"plrty";if(window.pageName2!="search"&&qry!=""&&!G){M=((searchFromKey=="")?qry:searchFromKey);M=encodeURIComponent(unescape(M));A=true}C=F;if(K!=undefined){if(K.sort!=undefined||F){K.sort=J}if(K.keyword!=undefined){K.keyword=G}if(F){K.q=C}if(A){A=false;K.sws=M}var L="";for(var O in K){L+=O+"="+K[O]+"&"}if(L.length>=2&&L.charAt(L.length-1)=="&"){L=L.substr(0,L.length-1)}P=L;if(location.hash!=""&&location.hash!==undefined){P+=location.hash}}var D={sortType:J||"plrty",qParam:F,keyword:G,sws:M};if(window.history&&window.history.pushState){window.history.pushState(D,null,"?"+((P=="")?"sort="+J+location.hash:P));$(".sort-value").removeClass("popbox");var N=$('.sort-value[sorttype="'+J+'"]');if(J=="plth"||J=="phtl"){if(J=="plth"){$("span.sortArrow").addClass("ascArrw").removeClass("descArrw")}else{$("span.sortArrow").addClass("descArrw").removeClass("ascArrw")}if(!N.length){$('.sort-value[sorttype="none"]').addClass("popbox")}else{N.addClass("popbox")}}else{N.addClass("popbox");$("span.sortArrow").removeClass("descArrw").removeClass("ascArrw")}$("#seeMoreProducts").attr("sortType",J)}}function queryStringToJSON(C,D,B){var G,F="";if(C){C=false;F=location.search;if(!B){F=F.replace(F.split("q=")[1],D);if(!D){F=F.replace("&q=","");F=F.replace("?q=","")}}else{if(F.split("q=")[1]){F=F.replace(F.split("q=")[1].split("&")[0],D)}if(!D){F=F.replace("&q=","");F=F.replace("?q=","")}}G=F}else{G=location.search}if(qry==""){var F=G;F=F.replace(F.split("sws=")[1],"");F=F.replace("&sws=","");G=F}if(G){var E=G.slice(1).split("&");var A={};E.forEach(function(H){if(H){H=H.split("=");A[H[0]]=H[1]||""}});return JSON.parse(JSON.stringify(A))}}function updateToPreviousPageState(G){$(".sort-value").each(function(){if($(this).attr("sorttype")==G.sortType){changeSortType($(this))}});updateOnReset();var E=null;var D=false;if(G.qParam){E=unescape(G.qParam).split("|");for(var B=0;B<(E.length-1);B++){var A=E[B].split(":")[0];if(A=="Price"){E[B].replace(/Price:([0-9]+),([0-9]+)/,function(J,K,I){if(K!==undefined&&I!==undefined){K=parseInt(K,10);I=parseInt(I,10);slideFilterChng=false;slideFilterManualChng=false;gDoNotUpdatePriceFlags=true;D=true;$("#slider-Price-id").slider({values:[K,I]});$(".sd-slider .ui-slider-handle").unbind("keydown");$(".min-value").eq(1).html("Rs "+K);$(".max-value").eq(1).html("Rs "+I)}})}else{var F=E[B].split(":")[1].split("^");var H=F.length;for(valuesIndex=0;valuesIndex<H;valuesIndex++){var C=$(".filter[name="+A+"]").find('.filter-value[filterValue="'+F[valuesIndex]+'"]');C.parent().eq(0).addClass("active-filter");C.attr("checked",true)}}}}if(G.sws){qry=G.sws}else{qry=""}if(D){slideFilterChng=true;slideFilterManualChng=true}filter.changeFilters(true,((qry=="")?false:true),true)}var gDoNotUpdatePriceFlags=false;var onFilter=false;var fromJSP=false;function detectFilters(A){var C="";var B="";var D="";if(window.pageName2!="search"&&qry!=""){B+="<div class='filtrs-top-selected'>Search: <a onclick='delSearchKeyword(this);'>"+((searchFromKey=="")?qry:searchFromKey)+"<i class='icon-clear sd-icon sd-icon-delete-sign'></i></a></div>"}$(".filter").each(function(){var G=$(this).attr("name");var H=$(this).attr("filterType");var F="";var I="";var K="";if(H=="slider"){var J=$(".max-value").eq(1).html();var E=$(".min-value").eq(1).html();if(J!=null){J=J.replace("Rs","").trim()}if(E!=null){E=E.replace("Rs","").trim()}if(!($(".max-value").eq(0).html()==J&&$(".min-value").eq(0).html()==E)){F=$("input[name="+G+"-slider]").val();if($("input[name="+G+"-slider]").hasClass("visible-filter")){I+='Price:&nbsp;<a onclick="delFltrs(this);" delFltrName="'+G+'" delFltrValue="">'+F.split(",")[0]+" - "+F.split(",")[1]+'<i class="icon-clear sd-icon sd-icon-delete-sign"></i></a>'}slideFilterManualChng=true}}else{$(".active-filter").children("input[name="+G+"]").each(function(M){var L=$(this).parents(".filter").attr("filterDisplayName");if(M==0&&$(this).hasClass("visible-filter")){K=L+":"}F+=$(this).val()+"^";if($(this).hasClass("visible-filter")){K+='&nbsp;<a onclick="delFltrs(this);" delFltrName="'+G+'" delFltrValue="'+$(this).val()+'">'+unescape($(this).val())+'<i class="icon-clear sd-icon sd-icon-delete-sign"></i></a>'}});if(F.length>0){F=F.substring(0,F.lastIndexOf("^"));I+=K;K=""}}if(F!==undefined&&F.length>0){C+=G+":"+F+"|";if(I!=""){B+='<div class="filtrs-top-selected">'+I+"</div>"}}});C=encodeURIComponent(unescape(C));if(B.length>0){B+='<div class="rfloat clear-all-reset"><label class="clear-all-lang"> Clear All</label><i class="icon-clear sd-icon sd-icon-delete-sign"></i></div>';$("#refined-box-content").html(B);$("#clearSelectedFilters").show();$(".clear-all-reset").removeClass("hidden")}else{$("#refined-box-content").html("");$("#clearSelectedFilters").hide();$(".clear-all-reset").addClass("hidden")}filterQueryParm=C;$("#seeMoreProducts").attr("qparam",C);$(".categoriesOverlay").remove()}function loadActiveCatagories(A){$("#matchingCatbox").html(loadActiveCatagoriesValues(A)).removeClass("data-from-js").addClass("data-from-js");if($("#matchingCatbox>ul>li+ul").length>1){$('#matchingCatbox>ul>div:not(".border1-js")>li+ul').after('<div class="border1-js clear"></div>');$("#matchingCatbox>ul>li+ul").after('<div class="border1-js clear"></div>')}$(".categoriesOverlay").remove();if(searchFormCheck){searchUrlUpdate();window.Snapdeal.breadcrumb.addHashToAllInternalLinks()}modifySubcatURIs(filterQueryParm)}function loadActiveCatagoriesValues(C,B,A){html="";html+="<ul class='clearfix' style='display:"+((B&&B>3)?"none":"")+"'>";$.each(C,function(D,E){html+=loadActiveCatagoriesDisplay(D,E);if(E.subCategories.length>0){html+=loadActiveCatagoriesValues(E.subCategories,D,true)}if((C.length>categoriesCount)&&(D+1==categoriesCount)){html+="<div style='display:none'>"}});if(C.length>categoriesCount&&!A){html+="</div><div class='moreSubcat'>";html+="<span id='viewMoreSubcat'>View More <span class='semiDownArrow mar_2_lft'></span></span>";html+="<span id='viewLessSubcat'>View Less <span class='semiTopArrow mar_2_lft'></span></span>";html+="</div>"}else{if(C.length>categoriesCount&&A){html+="</div><div class='moreSubcatRevamp'>";html+="<span class='js-viewMoreSubcat'>View More <i class='sd-icon sd-icon-next'></i></span>";html+="</div>"}}html+="</ul>";return html}function loadActiveCatagoriesDisplay(A,B){html="";html+="<li class='subcatid "+(B.subCategories.length>0?"parentCategoryCls":"")+"' subcatOrder='subat-"+B.id+"'>";html+="<div class='"+(B.subCategories.length>0?"node":"")+" lfloat "+(A>3?"upCategory":"")+"'></div>";if(searchFormCheck){html+="<a href='javascript:void(0);' onclick=searchOnSubCat('"+B.id+"') hidOmnTrack='"+B.link+"' class='somn-track subcat-list convertToLinks' catId='"+B.id+"'>"}else{if(window.campaignId){html+="<a href='"+window.sdHttpPath+"/campaign/"+campaignId+"?categoryCode="+((B.link.indexOf("?")>-1)?B.link.substr(0,B.link.indexOf("?")):B.link)+"' hidOmnTrack='"+B.link+"' class='somn-track'>"}else{html+="<a href='"+pageUrlConfg+"/"+B.link+"' hidOmnTrack='"+B.link+"' class='somn-track'>"}}html+="<div class='catName lfloat "+(categoryUrl==B.link?"catlist-active":"")+"'>"+B.name+"</div>";if(B.noOfResults){html+="<div class='catCount rfloat'>("+B.noOfResults+")</div>"}html+="<div class='clear'></div>";html+="</a></li>";return html}function modifyOnload(A){var B="";B=encodeURIComponent(Snapdeal.CommonUtils.URL.getQueryParam("q").split("#")[0]);modifySubcatURIs(B)}function modifySubcatURIs(C){var B=0;var A=".subcatid[subcatorder='subat-"+window.categoryId+"']";if(window.campaignId&&window.categoryId!=0){var D=$("li.[subcatorder='subat-"+window.categoryId+"']").parent().attr("name");if(D){B=D.split("-")[1];A=".subcatid[subcatorder='subat-"+window.categoryId+"']"}else{B=window.categoryId;A="ul[name='matchingCategories-"+window.categoryId+"'] .subcatid"}}if(!(!C||0==C.length)){$(".subcatid").each(function(G){var F=$(this).attr("subcatorder");if(window.pageName2=="search"&&!categoryId){if($(this).hasClass("parentCategoryCls")){return }}else{if(F&&categoryId&&F.substring(6)!=categoryId){if($(this).hasClass("parentCategoryCls")){return }}}var E=(window.campaignId&&window.categoryId!=0)?A:".subcatid";appendUrl(G,$(E),C)});$(".catid").each(function(F){var E=(window.campaignId&&window.categoryId!=0)?".catid[catorder='"+B+"']":".catid";appendUrl(F,$(E),C)});$(".prntCat").each(function(E){appendUrl(E,$(".prntCat"),C)})}else{$(".subcatid").each(function(F){var E=(window.campaignId&&window.categoryId!=0)?A:".subcatid";removeFilter(F,$(E),C)});$(".catid").each(function(F){var E=(window.campaignId&&window.categoryId!=0)?".catid[catorder='"+B+"']":".catid";removeFilter(F,$(E),C)});$(".prntCat").each(function(E){removeFilter(E,$(".prntCat"),C)})}}function appendUrl(D,G,F){var C=$(G[D]).children("a").attr("href")!==undefined;if(C){var B=$(G[D]).children("a").attr("href");if(B.indexOf("?q")!==-1){B=B.substring(0,B.indexOf("?q"))}var E="?q=";var H="";if(B.indexOf("?")>-1){H="&"+B.substring((B.indexOf("?")+1),B.length)}var A="";A=F.indexOf("&keyword");B=B.split("?")[0]+"?q="+((window.pageName=="search"&&A!=-1)?F.substring(0,F.indexOf("&keyword")):F)+H;$(G[D]).children("a").removeAttr("href");$(G[D]).children("a").attr("href",B)}}function removeFilter(C,E,D){var B=$(E[C]).children().attr("href")!==undefined;if(B){var A=$(E[C]).children().attr("href");if(A.indexOf("?q")!==-1){A=A.substring(0,A.indexOf("?q"))}$(E[C]).children().removeAttr("href");$(E[C]).children().attr("href",A)}}function delFltrs(B){fromClear=true;var A;$("#filter-no-results-message1").hide();if($(B).attr("delFltrName")=="Price"){$("div.reset-filter[filtername='Price']").click()}else{if($('input[value="'+$(B).attr("delFltrValue")+'"]').parents(".filter").attr("filtertype")=="button"){A=$(B).attr("delFltrValue")}else{A=$(B).attr("delFltrValue")}$('input[value="'+A+'"]').attr("checked",false);$('input[value="'+A+'"]').parent().removeClass("active-filter");filter.changeFilters(true,false)}$(B).remove()}function handleKeyPressOnInputPriceFilters(B){var A=(B.which)?B.which:B.keyCode;if(A==13){if("price-tag-input-from"==document.activeElement.id){$("#price-tag-input-to").focus()}else{if("price-tag-input-to"==document.activeElement.id){applyInputBasedPriceFilter();return true}}}if((A>32&&A<58)||A==8||A==46||A==9){return true}return false}function applyInputBasedPriceFilter(){var D=parseInt($("#slider-Price-id").attr("max"),10);var E=parseInt($("#slider-Price-id").attr("min"),10);var A=$("#price-tag-input-from").val()?parseInt($("#price-tag-input-from").val()):E;var C=$("#price-tag-input-to").val()?parseInt($("#price-tag-input-to").val()):D;A=Math.min(A,D);C=Math.max(Math.min(C,D),A);$("#price-tag-input-from").val(A);$("#price-tag-input-to").val(C);var B="Price";$("input[name="+B+"-slider]").val(A+","+C);$("#select-min-value-"+B).html("Rs "+A);$("#select-max-value-"+B).html("Rs "+C);onFilter=true;slideFilterChng=true;slideFilterManualChng=true;filter.changeFilters(true,false);if(window.pageName2=="search"){updateOmniture("changeFiltersSearch","FID","Slider_Price Filter: Rs"+A+" to "+C)}else{updateOmniture("changedFilter","FID","Slider_Price Filter: Rs"+A+" to "+C)}}$(".pageWrapper").on("click",".showTooltip",function(){var B=$(this).attr("tipid");var A=$(this).attr("tippos");if(!$("#tooltip-"+B).is(":visible")){$(this).append(toolTipCon(B,A)).removeClass("showTooltip")}return false});$(".pageWrapper").on("click",".sdTooltipClose",function(){$(this).parent().parent().addClass("showTooltip");$(this).parent().remove()});function toolTipCon(C,B){var A="";A+='<div class="sdTooltipWrapper '+B+'" id="tooltip-'+C+'"><div class="closeWrapper sdTooltipClose"><i class="icon-close"></i></div><div>';A+=$("#"+C).html();A+="</div></div>";return A}$("html").on("click",function(){if($("#tooltip-fullfilledTerms").is(":visible")){$("#tooltip-fullfilledTerms .sdTooltipClose").parent().parent().addClass("showTooltip");$("#tooltip-fullfilledTerms .sdTooltipClose").parent().remove()}});$("html").on("click","#tooltip-fullfilledTerms",function(A){if(!($(A.target).hasClass("icon-close")||$(A.target).hasClass("sdTooltipClose"))){A.stopPropagation()}});$(document).ready(function(){var A=Snapdeal.CommonUtils.URL.getQueryParam("sws");if(window.pageName2!="search"){if(A){if(sortTypeVal=="rlvncy"){sortTypeVal="plrty"}}if(sortTypeVal){sortTypeVal=sortTypeVal.split(",")[sortTypeVal.split(",").length-1];$("#seeMoreProducts").attr("sortType",sortTypeVal)}updateURLHistory((sortTypeVal!="")?$("#seeMoreProducts").attr("sortType"):"plrty")}window.addEventListener("popstate",function(B){console.log("popstate fired!",B.state);if(B.state){updateToPreviousPageState(B.state)}});if(A){qry=A.split("#")[0];filter.changeFilters(true,true)}if(Snapdeal.CommonUtils.URL.getQueryParam("q")){isPriceFilterAppliedOnPageLoad=(Snapdeal.CommonUtils.URL.getQueryParam("q").indexOf("Price")!=-1)?true:false}});$(window).unload(function(){window.scrollTo(0,0)});
var $left=$("#content_wrapper .pageWrapper .leftWrapper");var $right=$("#content_wrapper .rightWrapper");var $fWrap=$("#content_wrapper .leftWrapper .filterWrapper");var $window=$(window);var lastScrollTop=$window.scrollTop();var wasScrollingDown=true;var initialSidebarTop=$left.offset().top;var fixBottom=false;var filterFreezeflag=false;function filterFreezeDefault(){if($right.height()>$left.height()){filterFreezeflag=true;if($left.height()<$(window).height()){fixBottom=false;filtersFixTop()}else{fixBottom=true;filtersFixBottom()}}else{$left.css({position:"static"})}}function filterFreeze(){var K=$window.height();var G=$left.outerHeight();var A=$window.scrollTop();var M=A+K;var B=$left.position().top;var N=B+G;var U=Math.abs(K-G);var S=lastScrollTop-A;var Q=(A>lastScrollTop);var L=(K>G);if(G<K||G>$right.height()){filterFreezeDefault()}else{var P=(!Q)&&(($left.css("position")=="static")?1:0);if((!P)&&(L&&A>initialSidebarTop)||(!L&&A>initialSidebarTop+U)){$left.css("position","fixed")}else{if((!P)&&!Q&&A<=initialSidebarTop){$left.css("position","fixed")}}var H=(N<=M&&Q);var E=(B>=A&&!Q);var R;if(H){if(L){$left.css("top",0)}else{if(K+A>=$right.offset().top+$right.height()){R=$right.offset().top+$right.height()-G-A-7}else{R=-U}$left.css("top",R)}}else{if(E){if($("#categoryTopSection").length>0){gap=$("#categoryTopSection").outerHeight()}else{gap=0}if(A<$("#sdHeader").offset().top+gap+10){$left.css("position","static")}else{var T=0;var F=0;if($(".brandStoreHeadBanner").length>0){T=$(".brandStoreHeadBanner").height();if(A<T+$("#headerFixed").height()+$("#sdHeader").height()+10){$left.css("position","static")}else{$left.css("top",$("#headerFixed").height()+$("#sdHeader").height()+10)}}else{if($(".landingBannerTop").length>0){F=$(".landingBannerTop").height();if(A<F+$("#headerFixed").height()+$("#sdHeader").height()+10){$left.css("position","static")}else{$left.css("top",$("#headerFixed").height()+$("#sdHeader").height()+10)}}else{$left.css("top",$("#headerFixed").height()+$("#sdHeader").height()+10)}}}}else{if($left.css("position")=="fixed"){var D=parseInt($left.css("top"),10);var J=-U;var O=D+S;var C=(A+K>=$(document).height());var I=(C)?J:O;$left.css("top",I)}}}lastScrollTop=A;wasScrollingDown=Q}}function filtersChangeFreeze(){filterFreeze()}function filtersFixTop(){var F=$left.offset().top+$left.height()+$("#headerFixed").height();var C=$(window).scrollTop()+$(window).height();var E=$(window).scrollTop();var D=$left.height();var B=$("#headerFixed").height();var A=$right.offset().top+$right.height();if(E+B+15>=$right.offset().top&&B+65+D<A-E){$left.css({position:"fixed",top:B+$("#sdHeader").height()+10})}else{if(B+65+D>A-E){$left.css({position:"absolute",top:A-D-$right.offset().top+20})}else{$left.css({position:"static"})}}}function filtersFixBottom(){var E=$left.offset().top+$left.height();var B=$(window).scrollTop()+$(window).height();var D=$left.height();var C=$(window).height();var A=$right.offset().top+$right.height();if(B>=E&&B<A){$left.css({position:"fixed",top:C-D-10})}else{if(B>=A){$left.css({position:"absolute",top:A-D-$right.offset().top})}else{$left.css({position:"static"})}}}$(window).scroll(function(){filterFreeze()});function updateSdScroll(B){var A=parseInt(($(B).css("maxHeight")||"").split("px")[0])||0;if($(B).height()==A){$(B).slimScroll({height:A,alwaysVisible:true,railVisible:true,size:"14px",color:"#c4c4c4",opacity:1,railColor:"#f4f4f4",railOpacity:1,borderRadius:3,railBorderRadius:3})}}$(function(){if(window.searchOnFilters){$(".pageWrapper").on("change",".filterSearchBox",function(){var B=$(this).val();var A=$(this).attr("name").split("-")[1];var C=$(".filter-value[name="+A+"]").parents(".fliters-list");if(B){$("#crossFilter-"+A).show();$(C).find("label:not(:Contains("+B+"))").parents(".fliters-list").hide();$(C).find("label:Contains("+B+")").parents(".fliters-list").show()}else{$("#crossFilter-"+$(this).attr("name").split("-")[1]).hide();$(C).show()}var D=$(this).parents(".filters-outer").find(".sdScroll");updateSdScroll(D);return false}).on("keyup",".filterSearchBox",function(){$(this).change()});$(".pageWrapper").on("click",".crossFilter",function(){$(".filterSearchBox").val("").change()})}});function getSortingLabel(A){switch(A){case"rlvncy":return"Relevance";case"plrty":return"Popularity";case"bstslr":return"Bestsellers";case"phtl":return"Price";case"plth":return"Price";case"rec":return"Fresh Arrivals";case"tprtd":return"Customer Rating";case"dhtl":return"Discount Sort";default:return A}};
var Snapdeal=Snapdeal||{};Snapdeal.productAdTech=(function(E,H){var G,I,A,D,C,F,B;D={};A={};F={maxBannerAds:"3",maxProductRows:"3"};B=A.$win;I={_init:function(J){if(E("#listingAdtechBannerAd").val()=="true"){E("body").on("refresh",I._addBanner)}if(E("#listingAdtechProductAd").val()=="true"){E("#sa-min-products").val(E(".product_grid_row").first().children(".product_grid_cont").length);E("body").on("refresh",I._addProducts)}},_addBanner:function(){if(E(".sa_adspace").length>=F.maxBannerAds){return false}if(E(".sa_adspace").length==0){var R=E("<div></div>",{"class":"sa_adspace",id:"sa_adspace_68"}),Q=E(".product_grid_row").eq(2);R.insertAfter(Q);BA.load();return true}var O=E(".sa_adspace").last(),M=O.last().clone(),J=M.attr("id"),P=J.split("_"),N=P.pop(),K=parseInt(N)+1,L=P.join("_")+"_"+K;M.attr("id",L).empty();M.insertAfter(O.nextAll(".product_grid_row").eq(4));BA.load()},_addProducts:function(){if(E(".product-adpsace").length>=F.maxProductRows){return false}if(E(".product-adpsace").length==0){var L=E("<div></div>",{"class":"product-adpsace sa_pa_lw1","data-slots":E(".product_grid_row").first().children(".product_grid_cont").length}),M=E(".product_grid_row").eq(2);L.insertAfter(M);I._addSlots(L);BA.load();return true}var K=E(".product-adpsace").last(),J=K.last().clone().empty();J.insertAfter(K.nextAll(".product_grid_row").eq(4));I._addSlots(J);PA.load()},_addSlots:function(N){var M=parseInt(N.attr("data-slots"))||4,L="",O=E(".product-adSlot").last(),J=O.length?(parseInt(O.attr("id").split("_").pop())+1):50;for(var K=0;K<M;K++){L=L+'<div class="sa_pa product-adSlot" id="sa_pa_'+J+'"></div>';J=J+1}N.html(L);return true}};G={init:function(){return I._init.apply(this,arguments)}};return G})(window.jQuery,Snapdeal);jQuery(function(){Snapdeal.productAdTech.init()});
